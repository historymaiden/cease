<!DOCTYPE html>

<html>
<head>
    <title>Cookies</title>
    <!--<link rel="stylesheet" href="styles.css" type="text/css">  -->
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.0.min.js"></script>
    <script type="text/javascript" src="js/jquery.cookie.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <script type="text/javascript" src="js/jquery.validate.js"></script>
    
    
    <script>
    var name = null;
    var cookie;
    var age = 0;
    var value;
    $(document).ready(function(){
        $("#submit").click(function() {
            $("#userInfo").validate({ 
                rules: { 
                    name: "required",
                    age: "required",  
                },
                submitHandler: function(form) {
   // some other code
   // maybe disabling submit button
   // then:
             setCookie() //for calc, change age to years
 } 
          
            });
            
        });
        
    function setCookie() {
        cookievalue= escape(document.input.name.value) + ";";
        document.cookie = "eol_challengeName=" + name;
        console.log(name);
        alert("setting cookies : " + "name=" + name);
        readCookie();
    }
    
    function ReadCookie()
{
   var allcookies = document.cookie;
   alert("All Cookies : " + allcookies );

   // Get all the cookies pairs in an array
   cookiearray  = allcookies.split(';');

   // Now take key value pair out of this array
   for(var i=0; i<cookiearray.length; i++){
      name = cookiearray[i].split('=')[0];
      value = cookiearray[i].split('=')[1];
      alert("Key is : " + name + " and Value is : " + value);
   }
}
    });
    </script>
</head>

<body>

<form name="input" action="" id="userInfo" method="post">
    Name:<input type="text" name="name"><br>
    Age:<input type="text" name="age"><br>
    
    <input type="submit" onclick="setCookie()" value="Take the challenge">
</form>

<div>
    <p></p>    
</div>


</body>
</html>
